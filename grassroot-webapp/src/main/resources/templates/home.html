<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout">
<head>
    <title>GrassRoot Platform</title>

    <meta property="og:title" content="grassroot.org.za"/>
    <meta property="og:image" content="/img/grass.png"/>
    <meta property="og:description" content="The GrassRoot Platform."/>
</head>

<body>

<div layout:fragment="header">
    <!--<h2 th:text="#{home.welcome.message}">welcome headline</h2>-->
</div>
<div layout:fragment="overview"></div>

<div layout:fragment="content">
    <!-- Central text header -->
  <div class="well">
    <div class="row">
      <h1 th:text="#{web.home.banner}">Meet, vote act</h1>
      <!-- Insert user's name -->
      <h2 th:text="#{web.home.welcome(${currentUser.firstName})}">Welcome back to GrassRoot, Luke</h2>
    </div>
  </div>

  <!-- To insert search box for groups, events, etc, once many users -->

  <!-- Row of buttons to take common actions -->

  <div class="well">
    <div class="row">
      <div class="col-md-3">
        <a href="" th:href="@{/group/create}"><button class="btn btn-primary">Create a new group</button></a>
      </div>
      <div class="col-md-3">
        <a href="" th:href="@{/meeting/create}"><button class="btn btn-primary">Call a meeting</button></a>
      </div>
      <div class="col-md-3">
        <a href="" th:href="@{/action/create}"><button class="btn btn-primary">Record an action</button></a>
      </div>
      <div class="col-md-3">
        <a href="" th:href="@{/vote/create}"><button class="btn btn-primary">Take a vote</button></a>
      </div>
    </div>
  </div>

  <!-- List of user's groups, if they have any -->

  <div th:if="${not #lists.isEmpty(userGroups)}">

    <div class="well">
      <div class="row">
        <div class="col-lg-12">
          <div class="row">
            <div class="col-lg-12">
              <h2>Your groups</h2>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div  th:each="group,iterStat : ${userGroups}" class="bs-component">
                <div class="list-group">
                  <div class="list-group-item">
                    <div class="row-content">
                      <h4  class="list-group-item-heading">
                        <a th:href="@{/group/view(groupId=${group.id})}"><span th:text="${group.groupName}"></span></a>
                      </h4>
                      <div class="least-content"><span th:text="${group.getGroupMembers().size()}"></span> Members</div>
                      <p class="list-group-item-text">Est. <span th:text="${#calendars.format(group.getCreatedDateTime(),'dd MMMM yyyy')}">13 May 2011</span></p>
                    </div>
                  </div>
                  <div class="list-group-separator"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>